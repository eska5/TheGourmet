{"ast":null,"code":"export const sendToServer = (foodname, foodimage) => {\n  const backend = 'http://localhost:8080';\n  const xhttp = new XMLHttpRequest();\n  xhttp.open(\"POST\", backend + '/api/', true);\n  const request = {\n    'name': foodname,\n    'img': foodimage\n  };\n  xhttp.setRequestHeader('Content-Type', 'application/json');\n  xhttp.send(JSON.stringify(request));\n};\nexport const imgToBase64 = img => {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = img.width;\n  canvas.height = img.height;\n  var ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0);\n  var dataURL = canvas.toDataURL(\"image/png\");\n  return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n};\n\nfunction convertToDataURLviaCanvas(url, callback, outputFormat) {\n  var img = new Image();\n  img.crossOrigin = 'Anonymous';\n\n  img.onload = function () {\n    var canvas = document.createElement('CANVAS');\n    var ctx = canvas.getContext('2d');\n    var dataURL;\n    canvas.height = this.height;\n    canvas.width = this.width;\n    ctx.drawImage(this, 0, 0);\n    dataURL = canvas.toDataURL(outputFormat);\n    callback(dataURL);\n    canvas = null;\n  };\n\n  img.src = url;\n}","map":{"version":3,"sources":["C:/Users/lukin/OneDrive/INF/Gourmet/src/Functions/upload.js"],"names":["sendToServer","foodname","foodimage","backend","xhttp","XMLHttpRequest","open","request","setRequestHeader","send","JSON","stringify","imgToBase64","img","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataURL","toDataURL","replace","convertToDataURLviaCanvas","url","callback","outputFormat","Image","crossOrigin","onload","src"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,CAACC,QAAD,EAAUC,SAAV,KAAwB;AAChD,QAAMC,OAAO,GAAG,uBAAhB;AACA,QAAMC,KAAK,GAAG,IAAIC,cAAJ,EAAd;AACAD,EAAAA,KAAK,CAACE,IAAN,CAAW,MAAX,EAAmBH,OAAO,GAAG,OAA7B,EAAsC,IAAtC;AACA,QAAMI,OAAO,GAAG;AACZ,YAAQN,QADI;AAEZ,WAAOC;AAFK,GAAhB;AAIAE,EAAAA,KAAK,CAACI,gBAAN,CAAuB,cAAvB,EAAuC,kBAAvC;AACAJ,EAAAA,KAAK,CAACK,IAAN,CAAWC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAX;AACH,CAVM;AAWP,OAAO,MAAMK,WAAW,GAAIC,GAAD,IAAS;AAChC,MAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,EAAAA,MAAM,CAACG,KAAP,GAAeJ,GAAG,CAACI,KAAnB;AACAH,EAAAA,MAAM,CAACI,MAAP,GAAgBL,GAAG,CAACK,MAApB;AACA,MAAIC,GAAG,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAV;AACAD,EAAAA,GAAG,CAACE,SAAJ,CAAcR,GAAd,EAAmB,CAAnB,EAAsB,CAAtB;AACA,MAAIS,OAAO,GAAGR,MAAM,CAACS,SAAP,CAAiB,WAAjB,CAAd;AACA,SAAOD,OAAO,CAACE,OAAR,CAAgB,gCAAhB,EAAkD,EAAlD,CAAP;AACD,CARI;;AAUP,SAASC,yBAAT,CAAmCC,GAAnC,EAAwCC,QAAxC,EAAkDC,YAAlD,EAA+D;AAC3D,MAAIf,GAAG,GAAG,IAAIgB,KAAJ,EAAV;AACAhB,EAAAA,GAAG,CAACiB,WAAJ,GAAkB,WAAlB;;AACAjB,EAAAA,GAAG,CAACkB,MAAJ,GAAa,YAAU;AACnB,QAAIjB,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACA,QAAIG,GAAG,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAV;AACA,QAAIE,OAAJ;AACAR,IAAAA,MAAM,CAACI,MAAP,GAAgB,KAAKA,MAArB;AACAJ,IAAAA,MAAM,CAACG,KAAP,GAAe,KAAKA,KAApB;AACAE,IAAAA,GAAG,CAACE,SAAJ,CAAc,IAAd,EAAoB,CAApB,EAAuB,CAAvB;AACAC,IAAAA,OAAO,GAAGR,MAAM,CAACS,SAAP,CAAiBK,YAAjB,CAAV;AACAD,IAAAA,QAAQ,CAACL,OAAD,CAAR;AACAR,IAAAA,MAAM,GAAG,IAAT;AACH,GAVD;;AAWAD,EAAAA,GAAG,CAACmB,GAAJ,GAAUN,GAAV;AACH","sourcesContent":["export const sendToServer = (foodname,foodimage) => {\r\n    const backend = 'http://localhost:8080'\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.open(\"POST\", backend + '/api/', true);\r\n    const request = {\r\n        'name': foodname,\r\n        'img': foodimage,\r\n    };\r\n    xhttp.setRequestHeader('Content-Type', 'application/json');\r\n    xhttp.send(JSON.stringify(request));\r\n}\r\nexport const imgToBase64 = (img) => {\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(img, 0, 0);\r\n    var dataURL = canvas.toDataURL(\"image/png\");\r\n    return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\r\n  }\r\n\r\nfunction convertToDataURLviaCanvas(url, callback, outputFormat){\r\n    var img = new Image();\r\n    img.crossOrigin = 'Anonymous';\r\n    img.onload = function(){\r\n        var canvas = document.createElement('CANVAS');\r\n        var ctx = canvas.getContext('2d');\r\n        var dataURL;\r\n        canvas.height = this.height;\r\n        canvas.width = this.width;\r\n        ctx.drawImage(this, 0, 0);\r\n        dataURL = canvas.toDataURL(outputFormat);\r\n        callback(dataURL);\r\n        canvas = null; \r\n    };\r\n    img.src = url;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}