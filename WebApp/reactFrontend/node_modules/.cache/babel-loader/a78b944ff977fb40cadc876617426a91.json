{"ast":null,"code":"export const sendToServer = (foodname, foodimage) => {\n  const backend = 'http://localhost:8080';\n  const xhttp = new XMLHttpRequest();\n  xhttp.open(\"POST\", backend + '/api/', true);\n  const request = {\n    'name': foodname,\n    'img': foodimage\n  };\n  xhttp.setRequestHeader('Content-Type', 'application/json');\n  xhttp.send(JSON.stringify(request));\n};\nexport const imgToBase64 = image => {\n  var file = element.files[0];\n  var reader = new FileReader();\n\n  reader.onloadend = function () {\n    console.log('RESULT', reader.result);\n  };\n\n  reader.readAsDataURL(file);\n};\n\nfunction convertToDataURLviaCanvas(url, callback, outputFormat) {\n  var img = new Image();\n  img.crossOrigin = 'Anonymous';\n\n  img.onload = function () {\n    var canvas = document.createElement('CANVAS');\n    var ctx = canvas.getContext('2d');\n    var dataURL;\n    canvas.height = this.height;\n    canvas.width = this.width;\n    ctx.drawImage(this, 0, 0);\n    dataURL = canvas.toDataURL(outputFormat);\n    callback(dataURL);\n    canvas = null;\n  };\n\n  img.src = url;\n}","map":{"version":3,"sources":["C:/Users/lukin/OneDrive/INF/Gourmet/src/Functions/upload.js"],"names":["sendToServer","foodname","foodimage","backend","xhttp","XMLHttpRequest","open","request","setRequestHeader","send","JSON","stringify","imgToBase64","image","file","element","files","reader","FileReader","onloadend","console","log","result","readAsDataURL","convertToDataURLviaCanvas","url","callback","outputFormat","img","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","dataURL","height","width","drawImage","toDataURL","src"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,CAACC,QAAD,EAAUC,SAAV,KAAwB;AAChD,QAAMC,OAAO,GAAG,uBAAhB;AACA,QAAMC,KAAK,GAAG,IAAIC,cAAJ,EAAd;AACAD,EAAAA,KAAK,CAACE,IAAN,CAAW,MAAX,EAAmBH,OAAO,GAAG,OAA7B,EAAsC,IAAtC;AACA,QAAMI,OAAO,GAAG;AACZ,YAAQN,QADI;AAEZ,WAAOC;AAFK,GAAhB;AAIAE,EAAAA,KAAK,CAACI,gBAAN,CAAuB,cAAvB,EAAuC,kBAAvC;AACAJ,EAAAA,KAAK,CAACK,IAAN,CAAWC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAX;AACH,CAVM;AAWP,OAAO,MAAMK,WAAW,GAAIC,KAAD,IAAW;AAClC,MAAIC,IAAI,GAAGC,OAAO,CAACC,KAAR,CAAc,CAAd,CAAX;AACA,MAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,EAAAA,MAAM,CAACE,SAAP,GAAmB,YAAW;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,MAAM,CAACK,MAA7B;AACD,GAFD;;AAGAL,EAAAA,MAAM,CAACM,aAAP,CAAqBT,IAArB;AACD,CAPI;;AASP,SAASU,yBAAT,CAAmCC,GAAnC,EAAwCC,QAAxC,EAAkDC,YAAlD,EAA+D;AAC3D,MAAIC,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACAD,EAAAA,GAAG,CAACE,WAAJ,GAAkB,WAAlB;;AACAF,EAAAA,GAAG,CAACG,MAAJ,GAAa,YAAU;AACnB,QAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACA,QAAIC,GAAG,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAV;AACA,QAAIC,OAAJ;AACAL,IAAAA,MAAM,CAACM,MAAP,GAAgB,KAAKA,MAArB;AACAN,IAAAA,MAAM,CAACO,KAAP,GAAe,KAAKA,KAApB;AACAJ,IAAAA,GAAG,CAACK,SAAJ,CAAc,IAAd,EAAoB,CAApB,EAAuB,CAAvB;AACAH,IAAAA,OAAO,GAAGL,MAAM,CAACS,SAAP,CAAiBd,YAAjB,CAAV;AACAD,IAAAA,QAAQ,CAACW,OAAD,CAAR;AACAL,IAAAA,MAAM,GAAG,IAAT;AACH,GAVD;;AAWAJ,EAAAA,GAAG,CAACc,GAAJ,GAAUjB,GAAV;AACH","sourcesContent":["export const sendToServer = (foodname,foodimage) => {\r\n    const backend = 'http://localhost:8080'\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.open(\"POST\", backend + '/api/', true);\r\n    const request = {\r\n        'name': foodname,\r\n        'img': foodimage,\r\n    };\r\n    xhttp.setRequestHeader('Content-Type', 'application/json');\r\n    xhttp.send(JSON.stringify(request));\r\n}\r\nexport const imgToBase64 = (image) => {\r\n    var file = element.files[0];\r\n    var reader = new FileReader();\r\n    reader.onloadend = function() {\r\n      console.log('RESULT', reader.result)\r\n    }\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\nfunction convertToDataURLviaCanvas(url, callback, outputFormat){\r\n    var img = new Image();\r\n    img.crossOrigin = 'Anonymous';\r\n    img.onload = function(){\r\n        var canvas = document.createElement('CANVAS');\r\n        var ctx = canvas.getContext('2d');\r\n        var dataURL;\r\n        canvas.height = this.height;\r\n        canvas.width = this.width;\r\n        ctx.drawImage(this, 0, 0);\r\n        dataURL = canvas.toDataURL(outputFormat);\r\n        callback(dataURL);\r\n        canvas = null; \r\n    };\r\n    img.src = url;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}