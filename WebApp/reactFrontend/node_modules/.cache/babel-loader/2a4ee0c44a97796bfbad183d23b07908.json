{"ast":null,"code":"import _slicedToArray from\"D:\\\\Politechnika\\\\The Gourmet\\\\Development\\\\reactFrontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import{MainContainer,InputBar,InputWrapper,Button,MainButtonWrapper,ImagePreview,MainContent,FooterWrapper,ImageUploadContent,ImageButtonWrapper}from'./MainSectionDecorations';import'../Styles/suggestions.css';import{sendToServer}from'../../Functions/upload';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MainSection=function MainSection(){var inputBarRef=useRef();//var foodNames = [\"kotlet\",\"buraczki\",\"mizeria\",\"arbuz\",\"mleko\",\"melon\",\"maliny\",\"maczek\",\"marucha\",\"marchew\",\"mango\",\"mus owocowy\",\"marmolada\",\"margaryna\",\"marcepan\"];\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),hover=_useState2[0],setHover=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),previewUrl=_useState4[0],setPreviewUrl=_useState4[1];var filePickerRef=useRef();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),foodname=_useState6[0],setFoodName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),foodimage=_useState8[0],setFoodImage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),foodNames=_useState10[0],setFoodNames=_useState10[1];var onHover=function onHover(){setHover(!hover);};useEffect(function(){window.addEventListener('click',function(event){var container=document.getElementById('suggestionbox');var tmp=document.getElementsByClassName('suggestion-item');if(container!==null){if(!container.contains(event.target)&&tmp.length!==0){clearSuggestions();}}});},[]);function ImageHandler(event){if(event.target.files&&event.target.files.length===1){var file=event.target.files[0];var reader=new FileReader();reader.onloadend=function(){var base64String=reader.result.replace(\"data:\",\"\").replace(/^.+,/,\"\");setFoodImage(base64String);//setFoodImage(file);\n};reader.readAsDataURL(file);setPreviewUrl(URL.createObjectURL(event.target.files[0]));document.getElementById(\"imgbtn\").innerText=\"Edytuj zdjęcie\";}}function pickedImageHandler(){filePickerRef.current.click();//wywolanie klikniecia inputu, ktory jest niewidzialny\n}function handleSubmit(){if(foodname===\"\"){alert('Nie wprowadzono żadnej nazwy!');}if(foodimage===\"\"){alert('Nie wybrano zdjęcia!');}else{alert('Podano następującą potrawę: '+foodname);//var tmp = sendToServer(foodname,foodimage);\nhandleRequest(foodname,foodimage);//setFoodNames(tmp)\n}}function handleRequest(foodname,foodimage){var backend='https://gourmet.hopto.org:5000';var xhttp=new XMLHttpRequest();var res;xhttp.open(\"POST\",backend+'/meals',true);var request={'mealName':foodname,'mealPhoto':foodimage};xhttp.onreadystatechange=function(){if(xhttp.readyState===4){res=JSON.parse(xhttp.response);console.log(res);setFoodNames(res);}};xhttp.setRequestHeader('Content-Type','application/json');xhttp.send(JSON.stringify(request));}function clearSuggestions(){var x=document.getElementsByClassName(\"suggestion-item\");var n=x.length;var y=document.getElementsByClassName(\"suggestion-list\");for(var i=0;i<n;i++){x[0].parentNode.removeChild(x[0]);}if(y.length!==0){y[0].parentNode.removeChild(y[0]);}}function handleChange(event){clearSuggestions();var b,a;var inputValue=document.getElementById(\"foodinput\").value;if(inputValue!==''){a=document.createElement(\"ul\");a.setAttribute(\"class\",\"suggestion-list\");a.setAttribute(\"id\",\"suggestionbox\");document.getElementById('inputwrapper').appendChild(a);var actualHeight=0;for(var i=0;i<foodNames.length;i++){if(foodNames[i].substring(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()&&inputValue!==''){b=document.createElement(\"li\");if(actualHeight<250){actualHeight+=43;}a.style.setProperty('--height',actualHeight+'px');b.innerHTML=\"<span class='firstLetter'>\"+foodNames[i].substring(0,inputValue.length)+\"</span>\";b.innerHTML+=foodNames[i].substring(inputValue.length,foodNames[i].length);b.innerHTML+=\"<input type='hidden' value='\"+foodNames[i]+\"'>\";b.setAttribute(\"class\",\"suggestion-item\");b.addEventListener(\"click\",function(e){document.getElementById('foodinput').value=this.getElementsByTagName(\"input\")[0].value;setFoodName(event.target.value);clearSuggestions();});a.appendChild(b);}}}setFoodName(event.target.value);//jeśli się stanie zdarzenie(OnChange), wez element który je spowodował(target) i jego wartość(value)\n}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(InputWrapper,{id:\"inputwrapper\",children:/*#__PURE__*/_jsx(InputBar,{id:\"foodinput\",ref:inputBarRef,value:foodname,type:\"text\",placeholder:\"Nazwij swoje jedzenie\",onChange:handleChange})}),/*#__PURE__*/_jsx(MainContent,{children:/*#__PURE__*/_jsx(MainButtonWrapper,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",value:\"Submit\",onMouseEnter:onHover,onMouseLeave:onHover,onClick:handleSubmit,children:\"Wy\\u015Blij\"})})}),/*#__PURE__*/_jsxs(ImageUploadContent,{children:[/*#__PURE__*/_jsxs(ImageButtonWrapper,{children:[/*#__PURE__*/_jsx(\"input\",{ref:filePickerRef,style:{display:\"none\"},type:\"file\",accept:\".jpg,.png,.jpeg\",onChange:ImageHandler}),/*#__PURE__*/_jsx(Button,{id:\"imgbtn\",type:\"button\",onMouseEnter:onHover,onMouseLeave:onHover,onClick:pickedImageHandler,children:\"Wybierz zdj\\u0119cie\"})]}),/*#__PURE__*/_jsx(ImagePreview,{children:/*#__PURE__*/_jsx(\"img\",{height:\"300px\",width:\"300px\",src:previewUrl,alt:\"preview\"})})]}),/*#__PURE__*/_jsx(FooterWrapper,{children:\"Jakub Sachajko & \\u0141ukasz Nied\\u017Awiadek \\xA9 2022\"})]})});};export default MainSection;","map":{"version":3,"sources":["D:/Politechnika/The Gourmet/Development/reactFrontend/src/Elements/MainSection/index.js"],"names":["React","useState","useRef","useEffect","MainContainer","InputBar","InputWrapper","Button","MainButtonWrapper","ImagePreview","MainContent","FooterWrapper","ImageUploadContent","ImageButtonWrapper","sendToServer","MainSection","inputBarRef","hover","setHover","previewUrl","setPreviewUrl","filePickerRef","foodname","setFoodName","foodimage","setFoodImage","foodNames","setFoodNames","onHover","window","addEventListener","event","container","document","getElementById","tmp","getElementsByClassName","contains","target","length","clearSuggestions","ImageHandler","files","file","reader","FileReader","onloadend","base64String","result","replace","readAsDataURL","URL","createObjectURL","innerText","pickedImageHandler","current","click","handleSubmit","alert","handleRequest","backend","xhttp","XMLHttpRequest","res","open","request","onreadystatechange","readyState","JSON","parse","response","console","log","setRequestHeader","send","stringify","x","n","y","i","parentNode","removeChild","handleChange","b","a","inputValue","value","createElement","setAttribute","appendChild","actualHeight","substring","toUpperCase","style","setProperty","innerHTML","e","getElementsByTagName","display"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport { MainContainer,InputBar, InputWrapper, Button,MainButtonWrapper,ImagePreview, MainContent,FooterWrapper,ImageUploadContent,ImageButtonWrapper} from './MainSectionDecorations'\r\nimport '../Styles/suggestions.css'\r\nimport {sendToServer} from '../../Functions/upload'\r\nconst MainSection = () => { \r\n    const inputBarRef = useRef();\r\n    //var foodNames = [\"kotlet\",\"buraczki\",\"mizeria\",\"arbuz\",\"mleko\",\"melon\",\"maliny\",\"maczek\",\"marucha\",\"marchew\",\"mango\",\"mus owocowy\",\"marmolada\",\"margaryna\",\"marcepan\"];\r\n    const [hover, setHover] = useState(false)\r\n    const [previewUrl,setPreviewUrl] = useState(null);\r\n    const filePickerRef = useRef();\r\n    const [foodname,setFoodName] = useState(\"\");\r\n    const [foodimage,setFoodImage] = useState(\"\");\r\n    const [foodNames,setFoodNames] = useState(\"\");\r\n    const onHover = () => {\r\n      setHover(!hover)\r\n    }\r\n    useEffect(() => {\r\n        window.addEventListener('click', (event) => {\r\n            var container = document.getElementById('suggestionbox');\r\n            var tmp = document.getElementsByClassName('suggestion-item');\r\n            if(container !== null)\r\n            {\r\n                if (!container.contains(event.target) && tmp.length !== 0) {\r\n                    clearSuggestions();\r\n                }\r\n            }\r\n            \r\n        });\r\n      }, []);\r\n    function ImageHandler(event) {\r\n      if(event.target.files && event.target.files.length===1 )\r\n      {\r\n          \r\n        var file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n          const base64String = reader.result.replace(\"data:\", \"\").replace(/^.+,/, \"\");\r\n          setFoodImage(base64String);\r\n          //setFoodImage(file);\r\n        };\r\n        reader.readAsDataURL(file);\r\n\r\n\r\n        setPreviewUrl(URL.createObjectURL(event.target.files[0]));\r\n        document.getElementById(\"imgbtn\").innerText = \"Edytuj zdjęcie\";\r\n      }\r\n    }\r\n\r\n    function pickedImageHandler() {\r\n      filePickerRef.current.click(); //wywolanie klikniecia inputu, ktory jest niewidzialny\r\n    }\r\n    \r\n    function handleSubmit() {\r\n        if (foodname === \"\")\r\n        {\r\n            alert('Nie wprowadzono żadnej nazwy!');\r\n        }\r\n        if (foodimage === \"\")\r\n        {\r\n            alert('Nie wybrano zdjęcia!');\r\n        }\r\n        else\r\n        {\r\n            alert('Podano następującą potrawę: ' + foodname);\r\n            //var tmp = sendToServer(foodname,foodimage);\r\n            handleRequest(foodname,foodimage)\r\n            //setFoodNames(tmp)\r\n        }\r\n      }\r\n    function handleRequest(foodname,foodimage)\r\n    {\r\n        const backend = 'https://gourmet.hopto.org:5000'\r\n        const xhttp = new XMLHttpRequest();\r\n        var res;\r\n        xhttp.open(\"POST\", backend + '/meals', true);\r\n        const request = {\r\n            'mealName': foodname,\r\n            'mealPhoto': foodimage,\r\n        };\r\n        xhttp.onreadystatechange = function() {\r\n            if (xhttp.readyState === 4) {\r\n            res = JSON.parse(xhttp.response)\r\n            console.log(res)\r\n            setFoodNames(res)\r\n            }\r\n        }\r\n        xhttp.setRequestHeader('Content-Type', 'application/json');\r\n        xhttp.send(JSON.stringify(request));\r\n    }\r\n    function clearSuggestions() {\r\n        var x = document.getElementsByClassName(\"suggestion-item\");\r\n        var n = x.length;\r\n        var y = document.getElementsByClassName(\"suggestion-list\");\r\n        for (var i = 0; i < n; i++) {\r\n            x[0].parentNode.removeChild(x[0]);\r\n        }\r\n        if(y.length !== 0)\r\n        {\r\n            y[0].parentNode.removeChild(y[0]);\r\n        }\r\n        \r\n    }\r\n\r\n    function handleChange(event) {\r\n        clearSuggestions();\r\n        var b,a; \r\n        var inputValue = document.getElementById(\"foodinput\").value;\r\n        if(inputValue !== '')\r\n        {\r\n            a = document.createElement(\"ul\")\r\n            a.setAttribute(\"class\", \"suggestion-list\");\r\n            a.setAttribute(\"id\", \"suggestionbox\");\r\n            document.getElementById('inputwrapper').appendChild(a);\r\n            var actualHeight = 0;\r\n            for (var i = 0; i < foodNames.length; i++)\r\n            {\r\n                if(foodNames[i].substring(0,inputValue.length).toUpperCase() === inputValue.toUpperCase() && inputValue !== '')\r\n                {\r\n                    b = document.createElement(\"li\");\r\n                    if(actualHeight < 250)\r\n                    {\r\n                        actualHeight += 43;\r\n                    }\r\n                    a.style.setProperty('--height',actualHeight+'px')\r\n                    b.innerHTML=\"<span class='firstLetter'>\" + foodNames[i].substring(0,inputValue.length) + \"</span>\";\r\n                    b.innerHTML += foodNames[i].substring(inputValue.length,foodNames[i].length);\r\n                    b.innerHTML += \"<input type='hidden' value='\" + foodNames[i] + \"'>\";\r\n                    b.setAttribute(\"class\", \"suggestion-item\");\r\n                    b.addEventListener(\"click\", function(e) {\r\n                        document.getElementById('foodinput').value = this.getElementsByTagName(\"input\")[0].value;\r\n                        setFoodName(event.target.value);\r\n                        clearSuggestions();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        }\r\n        setFoodName(event.target.value); //jeśli się stanie zdarzenie(OnChange), wez element który je spowodował(target) i jego wartość(value)\r\n    }\r\n    return (\r\n        <>\r\n        <MainContainer>\r\n            {/* obniżyć przycisk wybierz zdjęcie, na urządzeniach mobilnych zmiejszyć imagepreview */}\r\n            {/* <Autocomplete suggestions={[\"Oranges\", \"Orangutan\", \"Apples\", \"Banana\", \"Kiwi\", \"Mango\"]}/> */}\r\n            <InputWrapper id=\"inputwrapper\">\r\n                {/* <SuggestionList id=\"suggestionbox\"/> */}\r\n                <InputBar id=\"foodinput\" ref={inputBarRef} value={foodname} type=\"text\" placeholder='Nazwij swoje jedzenie' onChange={handleChange}/>\r\n            </InputWrapper>\r\n            \r\n            <MainContent>\r\n                <MainButtonWrapper>\r\n                  <Button type=\"submit\" value=\"Submit\" onMouseEnter={onHover} onMouseLeave={onHover} onClick={handleSubmit}>\r\n                      Wyślij\r\n                  </Button>\r\n                </MainButtonWrapper>     \r\n            </MainContent>   \r\n            <ImageUploadContent>\r\n                <ImageButtonWrapper>\r\n                <input ref = {filePickerRef} style = {{display:\"none\"}} type = \"file\" accept=\".jpg,.png,.jpeg\" onChange={ImageHandler} />\r\n                    <Button id=\"imgbtn\" type=\"button\" onMouseEnter={onHover} onMouseLeave={onHover} onClick={pickedImageHandler}>\r\n                        Wybierz zdjęcie \r\n                    </Button>\r\n                </ImageButtonWrapper>\r\n                <ImagePreview>\r\n                    <img height=\"300px\" width=\"300px\" src={previewUrl} alt=\"preview\"/>\r\n                </ImagePreview>\r\n            </ImageUploadContent>\r\n\r\n            <FooterWrapper>Jakub Sachajko & Łukasz Niedźwiadek © 2022</FooterWrapper>\r\n        </MainContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainSection"]},"metadata":{},"sourceType":"module"}