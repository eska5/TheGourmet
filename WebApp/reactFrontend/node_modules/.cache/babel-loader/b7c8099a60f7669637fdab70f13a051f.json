{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\lukin\\\\OneDrive\\\\INF\\\\Gourmet\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import{MainContainer,InputBar,SuggestionList,InputWrapper,Button,MainButtonWrapper,ImagePreview,MainContent,FooterWrapper,ImageUploadContent,ImageButtonWrapper}from'./MainSectionDecorations';import useOnClickOutside from'../../Functions/use-onclick-outside';import'../Styles/inputbar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MainSection=function MainSection(){var inputBarRef=useRef();var foodNames=[\"kotlet\",\"buraczki\",\"mizeria\",\"arbuz\",\"mleko\",\"melon\",\"maliny\",\"maczek\",\"marucha\"];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hover=_useState2[0],setHover=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),previewUrl=_useState4[0],setPreviewUrl=_useState4[1];var filePickerRef=useRef();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),foodname=_useState6[0],setFoodName=_useState6[1];var onHover=function onHover(){setHover(!hover);};var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],toggleOpen=_React$useState2[1];var handleClose=function handleClose(){toggleOpen(false);};useEffect(function(){window.addEventListener('click',function(event){var container=document.getElementById('suggestionbox');var tmp=document.getElementsByClassName('suggestion-item');if(!container.contains(event.target)&&tmp.length!==0){clearSuggestions();}});},[]);function ImageHandler(event){if(event.target.files&&event.target.files.length===1){setPreviewUrl(URL.createObjectURL(event.target.files[0]));document.getElementById(\"imgbtn\").innerText=\"Edytuj zdjęcie\";}}function pickedImageHandler(){filePickerRef.current.click();//wywolanie klikniecia inputu, ktory jest niewidzialny\n}function handleSubmit(){if(foodname===\"\"){alert('Nie wprowadzono żadnej nazwy!');}else{alert('Podano następującą potrawę: '+foodname);}}function clearSuggestions(chosenFood){var x=document.getElementsByClassName(\"suggestion-item\");var n=x.length;for(var i=0;i<n;i++){x[0].parentNode.removeChild(x[0]);}}function handleChange(event){clearSuggestions();var b;var inputValue=document.getElementById(\"foodinput\").value;for(var i=0;i<foodNames.length;i++){if(foodNames[i].substring(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()&&inputValue!==''){b=document.createElement(\"li\");b.innerHTML=\"<span class='firstLetter'>\"+foodNames[i].substring(0,inputValue.length)+\"</span>\";b.innerHTML+=foodNames[i].substring(inputValue.length,foodNames[i].length);b.innerHTML+=\"<input type='hidden' value='\"+foodNames[i]+\"'>\";b.setAttribute(\"class\",\"suggestion-item\");b.addEventListener(\"click\",function(e){document.getElementById('foodinput').value=this.getElementsByTagName(\"input\")[0].value;setFoodName(event.target.value);clearSuggestions();});document.getElementById(\"suggestionbox\").appendChild(b);}}setFoodName(event.target.value);//jeśli się stanie zdarzenie(OnChange), wez element który je spowodował(target) i jego wartość(value)\n}// function handleClick(event){\n//     var b; \n//     for (var i = 0; i < foodNames.length; i++){\n//         b = document.createElement(\"li\")\n//         b.innerHTML=foodNames[i];\n//         b.setAttribute(\"class\", \"suggestion-item\");\n//         b.addEventListener(\"click\", function(e) {\n//             document.getElementById('foodinput').value = this.getElementsByTagName(\"input\")[0].value;\n//             setFoodName(event.target.value);\n//             clearSuggestions();\n//         });\n//         document.getElementById(\"suggestionbox\").appendChild(b);\n//     }\n// }\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsxs(InputWrapper,{id:\"inputwrapper\",children:[/*#__PURE__*/_jsx(SuggestionList,{id:\"suggestionbox\"}),/*#__PURE__*/_jsx(InputBar,{id:\"foodinput\",ref:inputBarRef,value:foodname,type:\"text\",placeholder:\"Nazwij swoje jedzenie\",onChange:handleChange})]}),/*#__PURE__*/_jsx(MainContent,{children:/*#__PURE__*/_jsx(MainButtonWrapper,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",value:\"Submit\",onMouseEnter:onHover,onMouseLeave:onHover,onClick:handleSubmit,children:\"Wy\\u015Blij\"})})}),/*#__PURE__*/_jsxs(ImageUploadContent,{children:[/*#__PURE__*/_jsxs(ImageButtonWrapper,{children:[/*#__PURE__*/_jsx(\"input\",{ref:filePickerRef,style:{display:\"none\"},type:\"file\",accept:\".jpg,.png,.jpeg\",onChange:ImageHandler}),/*#__PURE__*/_jsx(Button,{id:\"imgbtn\",type:\"button\",onMouseEnter:onHover,onMouseLeave:onHover,onClick:pickedImageHandler,children:\"Wybierz zdj\\u0119cie\"})]}),/*#__PURE__*/_jsx(ImagePreview,{children:/*#__PURE__*/_jsx(\"img\",{height:\"300px\",width:\"300px\",src:previewUrl,alt:\"preview\"})})]}),/*#__PURE__*/_jsx(FooterWrapper,{children:\"Jakub Sachajko & \\u0141ukasz Nied\\u017Awiadek \\xA9 2022\"})]})});};export default MainSection;","map":{"version":3,"sources":["C:/Users/lukin/OneDrive/inf/Gourmet/src/Elements/MainSection/index.js"],"names":["React","useState","useRef","useEffect","MainContainer","InputBar","SuggestionList","InputWrapper","Button","MainButtonWrapper","ImagePreview","MainContent","FooterWrapper","ImageUploadContent","ImageButtonWrapper","useOnClickOutside","MainSection","inputBarRef","foodNames","hover","setHover","previewUrl","setPreviewUrl","filePickerRef","foodname","setFoodName","onHover","open","toggleOpen","handleClose","window","addEventListener","event","container","document","getElementById","tmp","getElementsByClassName","contains","target","length","clearSuggestions","ImageHandler","files","URL","createObjectURL","innerText","pickedImageHandler","current","click","handleSubmit","alert","chosenFood","x","n","i","parentNode","removeChild","handleChange","b","inputValue","value","substring","toUpperCase","createElement","innerHTML","setAttribute","e","getElementsByTagName","appendChild","display"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport { MainContainer,InputBar,SuggestionList, InputWrapper, Button,MainButtonWrapper,ImagePreview, MainContent,FooterWrapper,ImageUploadContent,ImageButtonWrapper} from './MainSectionDecorations'\r\nimport useOnClickOutside from '../../Functions/use-onclick-outside';\r\nimport '../Styles/inputbar.css'\r\nconst MainSection = () => { \r\n\r\n    const inputBarRef = useRef();\r\n    const foodNames = [\"kotlet\",\"buraczki\",\"mizeria\",\"arbuz\",\"mleko\",\"melon\",\"maliny\",\"maczek\",\"marucha\"];\r\n    const [hover, setHover] = useState(false)\r\n    const [previewUrl,setPreviewUrl] = useState(null);\r\n    const filePickerRef = useRef();\r\n    const [foodname,setFoodName] = useState(\"\");\r\n    const onHover = () => {\r\n      setHover(!hover)\r\n    }\r\n    const [open, toggleOpen] = React.useState(false);\r\n\r\n    const handleClose = () => {\r\n        toggleOpen(false);\r\n    };\r\n    useEffect(() => {\r\n        window.addEventListener('click', (event) => {\r\n            var container = document.getElementById('suggestionbox');\r\n            var tmp = document.getElementsByClassName('suggestion-item');\r\n            if (!container.contains(event.target) && tmp.length !== 0) {\r\n                clearSuggestions();\r\n            }\r\n        });\r\n      }, []);\r\n\r\n    function ImageHandler(event) {\r\n      if(event.target.files && event.target.files.length===1 )\r\n      {\r\n          setPreviewUrl(URL.createObjectURL(event.target.files[0]));\r\n          document.getElementById(\"imgbtn\").innerText = \"Edytuj zdjęcie\";\r\n      }\r\n    }\r\n\r\n    function pickedImageHandler() {\r\n      filePickerRef.current.click(); //wywolanie klikniecia inputu, ktory jest niewidzialny\r\n    }\r\n\r\n    function handleSubmit() {\r\n        if (foodname === \"\")\r\n        {\r\n            alert('Nie wprowadzono żadnej nazwy!');\r\n        }\r\n        else\r\n        {\r\n            alert('Podano następującą potrawę: ' + foodname);\r\n        }\r\n      }\r\n    function clearSuggestions(chosenFood) {\r\n        var x = document.getElementsByClassName(\"suggestion-item\");\r\n        var n = x.length;\r\n        for (var i = 0; i < n; i++) {\r\n            x[0].parentNode.removeChild(x[0]);\r\n        }\r\n    }\r\n\r\n    function handleChange(event) {\r\n        clearSuggestions();\r\n        var b; \r\n        var inputValue = document.getElementById(\"foodinput\").value;\r\n        for (var i = 0; i < foodNames.length; i++)\r\n        {\r\n            if(foodNames[i].substring(0,inputValue.length).toUpperCase() === inputValue.toUpperCase() && inputValue !== '')\r\n            {\r\n                b = document.createElement(\"li\")\r\n                b.innerHTML=\"<span class='firstLetter'>\" + foodNames[i].substring(0,inputValue.length) + \"</span>\";\r\n                b.innerHTML += foodNames[i].substring(inputValue.length,foodNames[i].length);\r\n                b.innerHTML += \"<input type='hidden' value='\" + foodNames[i] + \"'>\";\r\n                b.setAttribute(\"class\", \"suggestion-item\");\r\n                b.addEventListener(\"click\", function(e) {\r\n                    document.getElementById('foodinput').value = this.getElementsByTagName(\"input\")[0].value;\r\n                    setFoodName(event.target.value);\r\n                    clearSuggestions();\r\n                });\r\n                document.getElementById(\"suggestionbox\").appendChild(b);\r\n            }\r\n        }\r\n        setFoodName(event.target.value); //jeśli się stanie zdarzenie(OnChange), wez element który je spowodował(target) i jego wartość(value)\r\n    }\r\n    // function handleClick(event){\r\n    //     var b; \r\n    //     for (var i = 0; i < foodNames.length; i++){\r\n    //         b = document.createElement(\"li\")\r\n    //         b.innerHTML=foodNames[i];\r\n    //         b.setAttribute(\"class\", \"suggestion-item\");\r\n    //         b.addEventListener(\"click\", function(e) {\r\n    //             document.getElementById('foodinput').value = this.getElementsByTagName(\"input\")[0].value;\r\n    //             setFoodName(event.target.value);\r\n    //             clearSuggestions();\r\n    //         });\r\n    //         document.getElementById(\"suggestionbox\").appendChild(b);\r\n    //     }\r\n    // }\r\n    return (\r\n        <>\r\n        <MainContainer>\r\n            {/* <Autocomplete suggestions={[\"Oranges\", \"Orangutan\", \"Apples\", \"Banana\", \"Kiwi\", \"Mango\"]}/> */}\r\n            <InputWrapper id=\"inputwrapper\">\r\n                <SuggestionList id=\"suggestionbox\"/>\r\n                <InputBar id=\"foodinput\" ref={inputBarRef} value={foodname} type=\"text\" placeholder='Nazwij swoje jedzenie' onChange={handleChange}/>\r\n            </InputWrapper>\r\n            \r\n            <MainContent>\r\n                <MainButtonWrapper>\r\n                  <Button type=\"submit\" value=\"Submit\" onMouseEnter={onHover} onMouseLeave={onHover} onClick={handleSubmit}>\r\n                      Wyślij\r\n                  </Button>\r\n                </MainButtonWrapper>     \r\n            </MainContent>   \r\n            <ImageUploadContent>\r\n                <ImageButtonWrapper>\r\n                <input ref = {filePickerRef} style = {{display:\"none\"}} type = \"file\" accept=\".jpg,.png,.jpeg\" onChange={ImageHandler} />\r\n                    <Button id=\"imgbtn\" type=\"button\" onMouseEnter={onHover} onMouseLeave={onHover} onClick={pickedImageHandler}>\r\n                        Wybierz zdjęcie \r\n                    </Button>\r\n                </ImageButtonWrapper>\r\n                <ImagePreview>\r\n                    <img height=\"300px\" width=\"300px\" src={previewUrl} alt=\"preview\"/>\r\n                </ImagePreview>\r\n            </ImageUploadContent>\r\n\r\n            <FooterWrapper>Jakub Sachajko & Łukasz Niedźwiadek © 2022</FooterWrapper>\r\n        </MainContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainSection\r\n"]},"metadata":{},"sourceType":"module"}